<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>提交新稿件</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; padding-top: 50px; }
        .submit-container { max-width: 800px; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
        .form-label { font-weight: bold; }
    </style>
</head>
<body>

<div class="container submit-container">
    <p class="text-muted mb-0">您好，<span class="fw-bold" th:text="${session.loginUser.userName}">作者</span></p>
    <div class="mb-4">
        <a th:href="@{/author/manuscript/list}" class="btn btn-outline-secondary btn-sm">&larr; 返回稿件列表</a>
        <h2 class="mt-3">提交新稿件</h2>
        <p class="text-muted">请认真填写稿件信息，带 * 的为必填项。</p>
    </div>

    <form th:action="@{/author/manuscript/doSubmit}" method="post" enctype="multipart/form-data">

        <div class="mb-3">
            <label for="title" class="form-label">稿件标题 *</label>
            <input type="text" class="form-control" id="title" name="title" placeholder="请输入完整的稿件标题" required>
        </div>

        <div class="mb-3">
            <label for="abstractText" class="form-label">摘要 *</label>
            <textarea class="form-control" id="abstractText" name="abstractText" rows="5" placeholder="请输入200-500字的摘要内容" required></textarea>
        </div>

        <div class="mb-3">
            <label for="keywords" class="form-label">关键词 *</label>
            <input type="text" class="form-control" id="keywords" name="keywords" placeholder="关键词之间请用分号分隔 (例如: Java; Spring; MySQL)" required>
        </div>

        <div class="mb-3">
            <label for="authorList" class="form-label">所有作者 *</label>
            <input type="text" class="form-control" id="authorList" name="authorList" placeholder="请列出所有作者姓名，用逗号分隔" required>
        </div>

        <div class="mb-4 border p-3 rounded bg-light">
            <label for="file" class="form-label">上传稿件原文 (PDF/Word) *</label>
            <input class="form-control" type="file" id="file" name="file" required>
            <div class="form-text">提示：请确保文件中包含作者身份信息。匿名版可在后续步骤处理。</div>
        </div>

        <div class="row g-2">
            <div class="col-md-6">
                <button type="submit" name="action" value="save" class="btn btn-outline-primary btn-lg w-100">
                    <i class="bi bi-save"></i> 保存为草稿
                </button>
            </div>
            <div class="col-md-6">
                <button type="submit" name="action" value="submit" class="btn btn-primary btn-lg w-100">
                    确认投递
                </button>
            </div>
            <div class="col-12 mt-3 text-center">
                <button type="reset" class="btn btn-link btn-sm text-secondary">清空重填</button>
            </div>
        </div>
    </form>
</div>
<p class="text-center mt-4 text-muted small">
    © 2025 学术论文管理系统 · 作者
</p>

</body>
</html>